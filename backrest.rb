# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Backrest < Formula
  desc "Backrest is a web UI and orchestrator for restic backup."
  homepage "https://github.com/garethgeorge/backrest"
  version "0.17.2"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.2/backrest_Darwin_x86_64.tar.gz"
      sha256 "39c19869a68073e27fa9cb809bc87fee8ef5fc92fc50e3f4110b583fd193aace"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.2/backrest_Darwin_arm64.tar.gz"
      sha256 "70bfb2d6d81f9cf6840cdf5c248635951cf914aa2995b7c4afc1cd698cadfdb0"

      def install
        bin.install "backrest"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.2/backrest_Linux_x86_64.tar.gz"
      sha256 "1d1b79fb17c1db1ba25ff11370fc88cfaf1c02cdc9c4c1d8709a32313477d012"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.2/backrest_Linux_armv6.tar.gz"
      sha256 "f469bd401545bc15cf81a67bd9df02b3d64fdf5943a183727f70b581f4650be0"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.2/backrest_Linux_arm64.tar.gz"
      sha256 "a398872078466e431425aea57daa8774000dba7bc87043ad33036f92556cd00a"

      def install
        bin.install "backrest"
      end
    end
  end

  service do
    run opt_bin/"backrest"
    error_log_path var/"log/backrest.log"
    log_path var/"log/backrest.log"
  end
end
