# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Backrest < Formula
  desc "Backrest is a web UI and orchestrator for restic backup."
  homepage "https://github.com/garethgeorge/backrest"
  version "1.9.0"

  on_macos do
    on_intel do
      url "https://github.com/garethgeorge/backrest/releases/download/v1.9.0/backrest_Darwin_x86_64.tar.gz"
      sha256 "5d92c8c48bdd7761a48729446c89f2466f428b536dac61a8e76f5025cc50c462"

      def install
        bin.install "backrest"
      end
    end
    on_arm do
      url "https://github.com/garethgeorge/backrest/releases/download/v1.9.0/backrest_Darwin_arm64.tar.gz"
      sha256 "e1bbf27b9bab551d25d132a4b3ca0bda5b44fbc985451ca2ca6c5340e77454e0"

      def install
        bin.install "backrest"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.9.0/backrest_Linux_x86_64.tar.gz"
        sha256 "53a49327b67adaa2e74e0a713d0c0544c64ef2a5639f299efe172e129217b3b8"

        def install
          bin.install "backrest"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.9.0/backrest_Linux_armv6.tar.gz"
        sha256 "6215e436453e2fce41827d1cdf6fb6e47484f9c1ffa6ed0a767b3a45923b48e0"

        def install
          bin.install "backrest"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.9.0/backrest_Linux_arm64.tar.gz"
        sha256 "b6ecc1ac87aa2e14c8e6843a604a5390e4700745c7c1a2b34f9e5f2a54354bfa"

        def install
          bin.install "backrest"
        end
      end
    end
  end

  service do
    run opt_bin/"backrest"
    error_log_path var/"log/backrest.log"
    log_path var/"log/backrest.log"
  end
end
