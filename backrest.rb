# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Backrest < Formula
  desc "Backrest is a web UI and orchestrator for restic backup."
  homepage "https://github.com/garethgeorge/backrest"
  version "0.17.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.0/backrest_Darwin_x86_64.tar.gz"
      sha256 "ea59ca248a5fa530a2c70864e0626400a0fc7293407a2e7853e0bdfa41061ecb"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.0/backrest_Darwin_arm64.tar.gz"
      sha256 "c58ae53a253b02332effb10c7168edec2cd727a7bba5001bb647508907af484f"

      def install
        bin.install "backrest"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.0/backrest_Linux_x86_64.tar.gz"
      sha256 "b3938375564ebbe8f11772d58fb5243cafcea133227f7812338cfa463a86233f"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.0/backrest_Linux_armv6.tar.gz"
      sha256 "982dafea59f669facba5d1a94e109f6d16f9cb8426b7d46a274383bcfd765287"

      def install
        bin.install "backrest"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/garethgeorge/backrest/releases/download/v0.17.0/backrest_Linux_arm64.tar.gz"
      sha256 "b8876f61503e0ca8caff4e1bcde09a941afe1eb6928608c6e0be4a865dcb0edc"

      def install
        bin.install "backrest"
      end
    end
  end

  service do
    run opt_bin/"backrest"
    error_log_path var/"log/backrest.log"
    log_path var/"log/backrest.log"
  end
end
