# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Backrest < Formula
  desc "Backrest is a web UI and orchestrator for restic backup."
  homepage "https://github.com/garethgeorge/backrest"
  version "1.7.2"

  on_macos do
    on_intel do
      url "https://github.com/garethgeorge/backrest/releases/download/v1.7.2/backrest_Darwin_x86_64.tar.gz"
      sha256 "e5a9726e21eddb56bc6f9d4ad41fd22a4415fb81ba05d8e9a85f3b67fa8d87ca"

      def install
        bin.install "backrest"
      end
    end
    on_arm do
      url "https://github.com/garethgeorge/backrest/releases/download/v1.7.2/backrest_Darwin_arm64.tar.gz"
      sha256 "7062d8468578cae7321623a962fff13fa58c037b378f1dbf26948d094052b470"

      def install
        bin.install "backrest"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.7.2/backrest_Linux_x86_64.tar.gz"
        sha256 "1c1c3e14629df586fe62e67c4d9cde487f15dca0fd44bf9229d0724bd82cd328"

        def install
          bin.install "backrest"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.7.2/backrest_Linux_armv6.tar.gz"
        sha256 "7b5a9a6b0873fcfc1bc168d488079525ed08ac8d558b9cdce0839db7af58eae0"

        def install
          bin.install "backrest"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/garethgeorge/backrest/releases/download/v1.7.2/backrest_Linux_arm64.tar.gz"
        sha256 "98a1af9df4c9270e06dbbc394be218a6215b2c779f8f1bab0b73e19093112a70"

        def install
          bin.install "backrest"
        end
      end
    end
  end

  service do
    run opt_bin/"backrest"
    error_log_path var/"log/backrest.log"
    log_path var/"log/backrest.log"
  end
end
